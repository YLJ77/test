<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="http://api.map.baidu.com/api?v=2.0&ak=D8U5si6fzz5VDicyjse72bIMNbiVAMX8"></script>
</head>
<body>

	<div id="map" style="width:500px;height:320px;"></div>
	
	<script>

		var x = y = 0, 
			geo = navigator.geolocation,
			map = document.getElementById('map');
		geo.getCurrentPosition(function(pos){
			x = pos.coords.latitude;
			y = pos.coords.longitude;
			console.log(pos);
		}, function(){
			alert('定位失败');
		});

		var map = new BMap.Map('map'),
			point = new BMap.Point(x, y);

		map.centerAndZoom(point,15);
		// map.overLay();


	</script>
</body>
</html>